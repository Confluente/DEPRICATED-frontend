<!--TODO Abstract from container-->
<div class="container">
    <h1><a class="btn btn-link" href="/activities"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>
        {{activity.name}}</h1>
    <p ng-if="activity.description">{{activity.description}}</p>
    <p ng-if="activity.date">Date: {{activity.date | date:'d MMMM yyyy'}}</p>
    <p ng-if="activity.startTime">Starting time: {{activity.startTime}}</p>
    <p ng-if="activity.endTime">Ending time: {{activity.endTime}}</p>
    <p ng-if="activity.location">Location: {{activity.location}}</p>
    <div ng-if="activity.canSubscribe && user.loggedIn">
        <a href="#signup" class="btn btn-primary" data-toggle="collapse">Sign up here!</a>
        <div id="signup" class="collapse subscriptionForm">
            <form>
                <div ng-repeat="question in activity.titlesOfQuestions">
                    <div class="form-group" ng-if="activity.typeOfQuestion[$index] == 'text'">
                        <label for="activityView{{$index}}">{{activity.questionDescriptions[$index]}}</label>
                        <input type="text" ng-model="answers[$index]" class="form-control" id="activityView{{$index}}"/>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" ng-click="submit()" ng-disabled="loading" id="submit">
                    Submit
                </button>
            </form>
        </div>
        <table style="width: 100%">
            <tr>
                <th ng-repeat="question in activity.titlesOfQuestions">{{question}}</th>
            </tr>
            <tr ng-repeat="participant in activity.participants">
                <td ng-repeat="answer in participant.subscription.answers">{{answer}}</td>
            </tr>
        </table>
    </div>
</div>